
/* Lightbox */
.lightbox{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.78);
  display:none;
  align-items:center;
  justify-content:center;
  padding:18px;
  z-index:9999;
}
.lightbox.open{ display:flex; }

.lightboxInner{
  width:min(1200px, 96vw);
  max-height:90vh;
  display:flex;
  flex-direction:column;
  gap:10px;
  align-items:center;
}

/* stage contains image + canvas overlay */
.lightboxStage{
  position:relative;
  width:100%;
  max-height:82vh;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(10,7,5,.6);
  overflow:hidden;
}

.lightboxStage img{
  width:100%;
  height:auto;
  max-height:82vh;
  object-fit:contain;
  display:block;
  cursor: zoom-out;
}

/* canvas sits on top of the image */
#drawCanvas{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  touch-action:none; /* important for drawing on mobile */
  cursor: crosshair;
}

/* subtle mini tools */
.drawTools{
  position:absolute;
  right:10px;
  bottom:10px;
  display:flex;
  gap:8px;
  opacity:.55;
  transition: opacity 160ms ease;
  user-select:none;
}
.lightboxStage:hover .drawTools{ opacity:.9; }

.toolBtn{
  appearance:none;
  border:none;
  cursor:pointer;
  padding:7px 10px;
  border-radius:999px;
  font-weight:900;
  font-size:12px;
  color: rgba(255,255,255,.95);
  background: rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.18);
  text-shadow:
    -1px -1px 0 rgba(0,0,0,.95),
     1px -1px 0 rgba(0,0,0,.95),
    -1px  1px 0 rgba(0,0,0,.95),
     1px  1px 0 rgba(0,0,0,.95);
}
.toolBtn.active{
  background: rgba(255,255,255,.18);
  border-color: rgba(255,255,255,.35);
}

/* light theme: keep it subtle */
html[data-theme="light"] .lightboxStage{
  border:1px solid rgba(0,0,0,.18);
  background: rgba(255,255,255,.55);
}
html[data-theme="light"] .toolBtn{
  color: rgba(0,0,0,.85);
  background: rgba(255,255,255,.35);
  border:1px solid rgba(0,0,0,.18);
  text-shadow:
    -1px -1px 0 rgba(255,255,255,.95),
     1px -1px 0 rgba(255,255,255,.95),
    -1px  1px 0 rgba(255,255,255,.95),
     1px  1px 0 rgba(255,255,255,.95);
}
